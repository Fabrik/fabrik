var FbListRadiusLookup=new Class({Extends:FbListPlugin,options:{},initialize:function(b){this.parent(b);if(typeOf(this.options.value)==="null"){this.options.value=0}var a=this.listform.getElement(".clearFilters");console.log("clear = ",a);a.addEvent("mouseup",function(){this.clearFilter()}.bind(this));if(typeOf(this.listform)!=="null"){this.listform=this.listform.getElement("#radius_lookup"+this.options.renderOrder);if(typeOf(this.listform)==="null"){fconsole("didnt find element #radius_lookup"+this.options.renderOrder);return}}if(typeOf(this.listform)==="null"){return}if(geo_position_js.init()){geo_position_js.getCurrentPosition(function(c){this.setGeoCenter(c)}.bind(this),function(c){this.geoCenterErr(c)}.bind(this),{enableHighAccuracy:true})}},setGeoCenter:function(a){this.geocenterpoint=a;this.geoCenter(a)},geoCenter:function(a){if(typeOf(a)==="null"){alert(Joomla.JText._("PLG_VIEW_RADIUS_NO_GEOLOCATION_AVAILABLE"))}else{this.listform.getElement("input[name=radius_search_lat"+this.options.renderOrder+"]").value=a.coords.latitude.toFixed(2);this.listform.getElement("input[name=radius_search_lon"+this.options.renderOrder+"]").value=a.coords.longitude.toFixed(2)}},clearFilter:function(){this.listform.getElements("select").set("value","");return true}});